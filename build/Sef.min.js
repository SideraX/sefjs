var Sef;!function(t){var n=function(){function t(){}return t}();t.Component=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function t(){}return t.nextComponentTypeId=function(){return t._nextComponentTypeId++},t.componentTypeId=function(n){return"function"==typeof n?(void 0===n.typeId&&(n.typeId=t.nextComponentTypeId()),n.typeId):(void 0===n.constructor.typeId&&(n.constructor.typeId=t.nextComponentTypeId()),n.constructor.typeId)},t._nextComponentTypeId=0,t}();t.Util=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function n(){this._systems=[],this._entities=[]}return n.prototype.setSystem=function(t){this._systems.push(t)},n.prototype.createEntity=function(){var n=new t.Entity(this);return this._entities.push(n),n},n.prototype.refresh=function(t){for(var n=this._systems,e=n.length-1;e>=0;e--)n[e].refreshEntity(t)},n}();t.World=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function n(){this._components=[],this._entities=[]}return n.prototype.registerComponent=function(n){this._components.push(t.Util.componentTypeId(n))},n.prototype.refreshEntity=function(t){t.hasComponents(this._components)?this._entities[t.id]=t:this._entities[t.id]&&(this._entities[t.id]=void 0)},n.prototype.update=function(){},n}();t.System=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function n(t){this._world=t,this._components=[],this.id=n._nextId++}return n.prototype.add=function(n){return this._components[t.Util.componentTypeId(n)]=n,this._world.refresh(this),this},n.prototype.remove=function(n){return this._components[t.Util.componentTypeId(n)]=void 0,this._world.refresh(this),this},n.prototype.hasComponents=function(n){for(var e=n.length-1;e>=0;e--)return void 0!==this._components[t.Util.componentTypeId(n[e])];return!0},n.prototype.get=function(n){return this._components[t.Util.componentTypeId(n)]},n._nextId=0,n}();t.Entity=n}(Sef||(Sef={}));
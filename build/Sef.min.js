var Sef;!function(t){var n=function(){function t(){}return t}();t.Component=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function n(t){this._world=t,this._components=[],this.id=n._nextId++}return n.prototype.add=function(n){return this._components[t.Util.componentTypeId(n)]=n,this._world.refresh(this),this},n.prototype.remove=function(n){return this._components[t.Util.componentTypeId(n)]=void 0,this._world.refresh(this),this},n.prototype.hasComponent=function(n){return void 0!==this._components[t.Util.componentTypeId(n)]},n.prototype.hasComponents=function(t){if(0===t.length)return!1;for(var n=t.length-1;n>=0;n--)return void 0!==this._components[t[n]];return!0},n.prototype.get=function(n){return this._components[t.Util.componentTypeId(n)]},n._nextId=0,n}();t.Entity=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function t(){}return t.nextComponentTypeId=function(){return t._nextComponentTypeId++},t.componentTypeId=function(n){return"function"==typeof n?(void 0===n.typeId&&(n.typeId=t.nextComponentTypeId()),n.typeId):(void 0===n.constructor.typeId&&(n.constructor.typeId=t.nextComponentTypeId()),n.constructor.typeId)},t._nextComponentTypeId=0,t}();t.Util=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function n(){this.components=[],this.entities=[]}return n.prototype.registerComponent=function(n){this.components.push(t.Util.componentTypeId(n))},n.prototype.refreshEntity=function(t){console.log(t.hasComponents(this.components)),t.hasComponents(this.components)?this.entities[t.id]=t:this.entities[t.id]&&(this.entities[t.id]=void 0)},n.prototype.process=function(){for(var t=this.entities.length-1;t>=0;t--)this.update(this.entities[t])},n.prototype.update=function(){},n}();t.System=n}(Sef||(Sef={}));var Sef;!function(t){var n=function(){function n(){this.systems=[],this.entities=[]}return n.prototype.setSystem=function(t){this.systems.push(t)},n.prototype.createEntity=function(){var n=new t.Entity(this);return this.entities.push(n),n},n.prototype.refresh=function(t){for(var n=this.systems,e=n.length-1;e>=0;e--)n[e].refreshEntity(t)},n.prototype.process=function(){for(var t=this.systems,n=t.length-1;n>=0;n--)t[n].process()},n}();t.World=n}(Sef||(Sef={}));